<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../layout.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

  <ui:param name="cName" value="r/#{communityManagedBean.cName}" />

  <ui:define name="title">
    Edit Community
  </ui:define>

  <ui:define name="cName">
    #{communityManagedBean.cName}
  </ui:define>

  <ui:define name="content">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-8">
          <h:form id='settingsForm'>
            <div class="card" style="border: none">
              <div class="card-header" id="userSettings" style="padding: 15px; background-color: rgb(21, 21, 21)">
                <h3>Edit r/#{communityManagedBean.cName}</h3>
              </div>
              <div class="card-body" style="background-color: rgb(25, 25, 25)">
                <div class='form-group'>
                  <h:outputLabel for="title" value="Title:" style="font-size: 14px"/>
                  <h:inputText id="title"
                               class="form-control"
                               value="#{communityManagedBean.title}"
                               required="true"
                               requiredMessage="Title is required"/>
                  <small id="name-help">This title will be displayed on the community page.</small><br/>
                  <h:message id="titleMessage" for="title" style="color: red" /><br/>

                  <h:outputLabel for="description" value="Description: " style="font-size: 14px; margin-top: 20px"/>
                  <h:inputTextarea id="description"
                                   class="form-control"
                                   value="#{communityManagedBean.description}"
                                   rows="4"/>
                  <small id="description-help">This is how new members come to understand your community.</small>
                  <h:message id="descriptionMessage" for="description" style="color: red" /><br/>
                </div>

                <h:commandButton value="Save Changes"
                                 type="submit"
                                 action="#{communityManagedBean.updateCommunity}"
                                 class="btn btn-primary" style="min-width: 120px; font-size: 14px">
                  <f:ajax execute="@form"
                          render="settingsForm"/>
                </h:commandButton>
              </div>
            </div>
          </h:form>
        </div>
      </div>
    </div>
  </ui:define>

</ui:composition>
